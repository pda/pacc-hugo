<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>paul.annesley.cc</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Lora:400,700" rel="stylesheet">
    <style type="text/css">
      html { padding: 0 1em; }
      body {
        margin: 1em auto;
        max-width: 40em;
        font-family: Lora, serif;
        font-size: 120%;
      }
      #body-home { font-size: 180%; }
      #index-item { margin-bottom: 1em; }
      blockquote {
        margin-left: 1em;
        padding-left: 1em;
        border-left: 8px solid #ccc;
      }
      strong { font-weight: bold; }
      .highlight pre {
        padding: 1em;
        overflow: auto;
      }
    </style>
  </head>
  <body id="body-page">
    <div id="content">
<h1>Django and Python Imaging Library (PIL) on Leopard</h1>
<h2>— Paul Annesley, November 2007</h2>
<p><a href="http://www.djangobook.com/en/beta/chapter05/#cn125">Chapter 5</a> of the excellent <a href="http://www.djangobook.com/">Django Book</a> makes use of <a href="http://www.djangoproject.com/documentation/model-api/#imagefield" title="Django | Model reference | Django Documentation">django.db.models.URLField()</a>.</p>

<p>When running under the default Python 2.5 environment shipped with Mac OS 10.5 Leopard, this causes an error something along these lines:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">$ ./manage.py validate
Error: One or more models did not validate:
books.author: &#34;headshot&#34;: To use ImageFields, you need to install the Python Imaging Library. Get it at http://www.pythonware.com/products/pil/ .</code></pre></div>
<p>Assuming you&rsquo;ve installed <a href="http://developer.apple.com/tools/xcode/" title="Apple XCode">XCode</a> (go on, you know you want to..) this can be solved like so:</p></p>

<p><strong>Install libjpeg</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">wget http://www.ijg.org/files/jpegsrc.v6b.tar.gz
tar zxvf jpegsrc.v6b.tar.gz
cd jpeg-6b/
./configure
make
sudo make install-lib</code></pre></div>
<p><strong>Install Python Imaging Library (PIL)</strong></p></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sh" data-lang="sh">wget http://effbot.org/media/downloads/Imaging-1.1.6.tar.gz
tar zxvf Imaging-1.1.6.tar.gz 
cd Imaging-1.1.6
sudo python setup.py install</code></pre></div>
<p>Not too hard, but still, <a href="http://diveintomark.org/archives/2007/11/11/installing-mysql-on-ubuntu" title="Installing MySQL on Ubuntu (the NSFW way) [dive into mark]">sucks to be us Apple users sometimes</a>.  If my Ubuntu Server virtual machine didn&rsquo;t make my laptop run so damn hot, I&rsquo;d be using that.  Are <a href="http://kerneltrap.org/node/7749" title="Linux:  2.6.21-rc1, Dynticks Merged | KernelTrap">tickless kernels</a> and <a href="http://www.lesswatts.org/projects/powertop/">PowerTOP</a> helping anyone on this front yet?</p>

<p>If it all looks too hard, I&rsquo;m sure <a href="http://www.macports.org/">MacPorts</a> (or is it <a href="http://darwinports.com/">DarwinPorts</a>? who knows) will hold your hand.</p>

<div>
  <a href="/">← index</a>
</div>

    </div>
  </body>
</html>
